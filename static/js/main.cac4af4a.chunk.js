(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{12:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__3cOtY",ImageGalleryItem:"ImageGallery_ImageGalleryItem__NFLG8",ImageGalleryItemImage:"ImageGallery_ImageGalleryItemImage__2mJio"}},16:function(e,t,a){e.exports={Overlay:"Modal_Overlay__1ngiu",Modal:"Modal_Modal__dEnCA"}},27:function(e,t,a){e.exports={Button:"Button_Button__1Bshm"}},28:function(e,t,a){e.exports={App:"App_App__zBosM","App-logo":"App_App-logo__QyRxk","App-logo-spin":"App_App-logo-spin__1ue_b","App-header":"App_App-header__1d28a","App-link":"App_App-link__2RLM7",container:"App_container__1iiBA"}},29:function(e,t,a){e.exports={loader:"loader_loader__1s3jy"}},76:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),c=a.n(o),s=a(17),i=a(4),l=a(5),h=a(7),u=a(6),m=(a(34),a(13)),g=a(8),p=a.n(g),d=a(1),b=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={searchRequest:""},e.handleNameChange=function(t){e.setState({searchRequest:t.currentTarget.value})},e.handleSubmit=function(t){t.preventDefault(),e.state.searchRequest?(e.setState({searchRequest:""}),e.props.onSubmit(e.state.searchRequest)):m.a.error("\u0412\u0432\u0434\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0432 \u0441\u0442\u0440\u043e\u043a\u0443 \u043f\u043e\u0438\u0441\u043a\u0430")},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(d.jsx)("header",{className:p.a.Searchbar,children:Object(d.jsxs)("form",{onSubmit:this.handleSubmit,className:p.a.SearchForm,children:[Object(d.jsx)("button",{type:"submit",className:p.a.SearchFormButton,children:Object(d.jsx)("span",{className:p.a.SearchFormButtonLabel,children:"Search"})}),Object(d.jsx)("input",{className:p.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:this.state.searchRequest,onChange:this.handleNameChange})]})})}}]),a}(n.Component),j=a(12),f=a.n(j),_=function(e){var t=e.smallImage,a=e.largeImage,n=e.onClick;return Object(d.jsx)("li",{onClick:function(){n(a)},children:Object(d.jsx)("img",{src:t,alt:"gallaryImg",className:f.a.ImageGalleryItemImage})})},S=(a(36),function(e){var t=e.images,a=e.onClick;return Object(d.jsx)("ul",{className:f.a.ImageGallery,children:t.map((function(e){return Object(d.jsx)(_,{smallImage:e.webformatURL,largeImage:e.largeImageURL,onClick:a},e.id)}))})}),O=a(26),v=a.n(O);function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return v.a.get("https://pixabay.com/api/?key=22398165-fb0cc592f6e3d650fc4eef6c6&q=".concat(e,"&page=").concat(t,"&per_page=12&image_type=photo"))}var x=a(27),I=a.n(x);function k(e){var t=e.onClick;return Object(d.jsx)("button",{type:"button",className:I.a.Button,onClick:t,children:"Load more"})}var C=a(15),w=a.n(C),A=a(16),M=a.n(A),R=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onEscClick=function(t){"Escape"===t.code&&e.props.onClose()},e.onBackdropClick=function(t){t.currentTarget===t.target&&e.props.onClose()},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.onEscClick)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.onEscClick)}},{key:"render",value:function(){var e=this.props.largeImage;return Object(d.jsx)("div",{className:M.a.Overlay,onClick:this.onBackdropClick,children:Object(d.jsx)("div",{className:M.a.Modal,children:Object(d.jsx)("img",{src:e,alt:"modalImg"})})})}}]),a}(n.Component),B=a(28),F=a.n(B),N=a(29),q=a.n(N),G=function(){return Object(d.jsx)(w.a,{type:"MutatingDots",color:"#00BFFF",height:100,width:100,timeout:500,className:q.a.loader})};function E(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}var L=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={showModal:!1,images:[],searchRequest:"",loading:!1,error:"",page:1,largeImageSrc:"",alt:""},e.getData=function(t,a){y(t,a).then((function(t){if(200===t.status&&e.state.searchRequest.trim().length&&(e.setState({images:[].concat(Object(s.a)(e.state.images),Object(s.a)(t.data.hits))}),0===e.state.images.length&&m.a.error("\u041f\u043e \u0432\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 - \u041d\u0418\u0427\u0415\u0413\u041e \u041d\u0415 \u041d\u0410\u0419\u0414\u0415\u041d\u041e!"),E()),404===t.status)throw new Error(t.message||"pictures not exist")})).catch((function(e){console.error("error",e)})).then((function(){e.setState({loading:!1})}))},e.handleSearchbarSubmit=function(t){e.setState({loading:!0}),e.setState({searchRequest:t}),e.getData(t,e.state.page)},e.fetchImages=function(){e.setState({page:e.state.page+1}),e.getData(e.state.searchRequest,e.state.page+1),e.setState({loading:!0})},e.toggleModal=function(){e.setState({showModal:!e.state.showModal})},e.setCurrentPictureSrc=function(t){e.setState({showModal:!e.state.showModal}),void 0!==t&&(e.setState({largeImageSrc:t.target.dataset.largeimage}),e.setState({alt:t.target.alt}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getData(this.state.searchRequest,this.state.page)}},{key:"componentDidUpdate",value:function(e,t){t.searchRequest!==this.state.searchRequest&&this.setState({images:[]})}},{key:"render",value:function(){return Object(d.jsxs)("div",{className:F.a.App,children:[Object(d.jsx)(b,{onSubmit:this.handleSearchbarSubmit}),0!==this.state.images.length&&Object(d.jsx)(S,{toggleModal:this.setCurrentPictureSrc,images:this.state.images}),this.state.showModal&&Object(d.jsx)(R,{onClose:this.toggleModal,children:Object(d.jsx)("div",{children:Object(d.jsx)("img",{src:this.state.largeImageSrc,alt:this.state.alt})})}),this.state.loading&&Object(d.jsx)(G,{}),this.state.images.length>0&&Object(d.jsx)("div",{className:"container",children:Object(d.jsx)(k,{onClick:this.fetchImages})})]})}}]),a}(n.Component);a(75);c.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(L,{})}),document.getElementById("root"))},8:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__S9upa",SearchForm:"Searchbar_SearchForm__2sxL3",SearchFormButton:"Searchbar_SearchFormButton__1PjhR",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__2CprE",SearchFormInput:"Searchbar_SearchFormInput__2TNRc"}}},[[76,1,2]]]);
//# sourceMappingURL=main.cac4af4a.chunk.js.map