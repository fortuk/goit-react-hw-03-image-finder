{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/App/App.module.css","components/loader/loader.module.css","components/SearchBar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","api/imagesApi.js","components/Button/Button.jsx","components/Modal/Modal.jsx","components/loader/loader.jsx","components/App/App.jsx","index.js","components/SearchBar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","searchRequest","handleNameChange","event","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","toast","error","className","s","this","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","smallImage","largeImage","onClick","src","alt","ImageGalleryItemImage","ImageGallery","images","map","image","webformatURL","largeImageURL","id","fetchImagesWithQuery","q","page","axios","get","Button","Modal","onEscClick","code","onClose","onBackdropClick","target","window","addEventListener","removeEventListener","Overlay","Load","color","height","width","timeout","styles","loader","scrollPageDown","scrollTo","top","document","documentElement","scrollHeight","behavior","App","showModal","loading","largeImageSrc","getData","request","then","response","status","trim","length","data","hits","Error","message","catch","console","handleSearchbarSubmit","fetchImages","toggleModal","setCurrentPictureSrc","e","undefined","dataset","largeimage","prevProps","prevState","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.cac4af4a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3cOtY\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__NFLG8\",\"ImageGalleryItemImage\":\"ImageGallery_ImageGalleryItemImage__2mJio\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1ngiu\",\"Modal\":\"Modal_Modal__dEnCA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1Bshm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__zBosM\",\"App-logo\":\"App_App-logo__QyRxk\",\"App-logo-spin\":\"App_App-logo-spin__1ue_b\",\"App-header\":\"App_App-header__1d28a\",\"App-link\":\"App_App-link__2RLM7\",\"container\":\"App_container__1iiBA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"loader_loader__1s3jy\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { toast } from 'react-toastify';\nimport s from './Searchbar.module.css';\n\nexport default class Searchbar extends Component {\n  state = {\n    searchRequest: '',\n  };\n\n  handleNameChange = event => {\n    this.setState({ searchRequest: event.currentTarget.value });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    if (!this.state.searchRequest) {\n      toast.error('Ввдите данные в строку поиска');\n      return;\n    }\n    this.setState({ searchRequest: '' });\n\n    this.props.onSubmit(this.state.searchRequest);\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form onSubmit={this.handleSubmit} className={s.SearchForm}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.searchRequest}\n            onChange={this.handleNameChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\n\nimport s from '../ImageGallery/ImageGallery.module.css';\n\nconst ImageGalleryItem = ({ smallImage, largeImage, onClick }) => {\n  return (\n    <li\n      onClick={() => {\n        onClick(largeImage);\n      }}\n    >\n      <img\n        src={smallImage}\n        alt=\"gallaryImg\"\n        className={s.ImageGalleryItemImage}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  smallImage: PropTypes.string.isRequired,\n  largeImage: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport s from './ImageGallery.module.css';\nimport PropTypes from 'prop-types';\n\nconst ImageGallery = ({ images, onClick }) => {\n  return (\n    <ul className={s.ImageGallery}>\n      {images.map(image => (\n        <ImageGalleryItem\n          key={image.id}\n          smallImage={image.webformatURL}\n          largeImage={image.largeImageURL}\n          onClick={onClick}\n        />\n      ))}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n    }),\n  ).isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import axios from 'axios';\n\nfunction fetchImagesWithQuery(q, page = 1) {\n  return axios.get(\n    `https://pixabay.com/api/?key=22398165-fb0cc592f6e3d650fc4eef6c6&q=${q}&page=${page}&per_page=12&image_type=photo`,\n  );\n}\n\nexport { fetchImagesWithQuery };\n","import PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nexport default function Button({ onClick }) {\n  return (\n    <button type=\"button\" className={s.Button} onClick={onClick}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.css';\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.onEscClick);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.onEscClick);\n  }\n\n  onEscClick = event => {\n    const ESC_KEY_CODE = 'Escape';\n\n    if (event.code === ESC_KEY_CODE) {\n      this.props.onClose();\n    }\n  };\n\n  onBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    const { largeImage } = this.props;\n    return (\n      <div className={s.Overlay} onClick={this.onBackdropClick}>\n        <div className={s.Modal}>\n          <img src={largeImage} alt=\"modalImg\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nModal.propTypes = {\n  largeImage: PropTypes.string.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n","import Loader from 'react-loader-spinner';\nimport styles from '../loader/loader.module.css';\n\nconst Load = () => {\n  return (\n    <Loader\n      type=\"MutatingDots\"\n      color=\"#00BFFF\"\n      height={100}\n      width={100}\n      timeout={500}\n      className={styles.loader}\n    />\n  );\n};\n\nexport { Load };\n","import React, { Component } from 'react';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Searchbar from '../SearchBar/Searchbar';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport { fetchImagesWithQuery } from '../../api/imagesApi';\nimport Button from '../Button/Button';\nimport Loader from 'react-loader-spinner';\nimport Modal from '../Modal/Modal';\nimport s from './App.module.css';\nimport { toast } from 'react-toastify';\nimport { Load } from '../loader/loader';\n\nfunction scrollPageDown() {\n  window.scrollTo({\n    top: document.documentElement.scrollHeight,\n    behavior: 'smooth',\n  });\n}\n\nexport default class App extends Component {\n  state = {\n    showModal: false,\n    images: [],\n    searchRequest: '',\n    loading: false,\n    error: '',\n    page: 1,\n    largeImageSrc: '',\n    alt: '',\n  };\n\n  componentDidMount() {\n    this.getData(this.state.searchRequest, this.state.page);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchRequest !== this.state.searchRequest) {\n      this.setState({ images: [] });\n    }\n  }\n\n  getData = (request, page) => {\n    fetchImagesWithQuery(request, page)\n      .then(response => {\n        if (response.status === 200 && this.state.searchRequest.trim().length) {\n          this.setState({\n            images: [...this.state.images, ...response.data.hits],\n          });\n\n          if (this.state.images.length === 0) {\n            toast.error('По вашему запросу - НИЧЕГО НЕ НАЙДЕНО!');\n          }\n          scrollPageDown();\n        }\n        if (response.status === 404) {\n          throw new Error(response.message || 'pictures not exist');\n        }\n      })\n      .catch(function (error) {\n        console.error('error', error);\n      })\n      .then(() => {\n        this.setState({ loading: false });\n      });\n  };\n\n  handleSearchbarSubmit = request => {\n    this.setState({ loading: true });\n    this.setState({ searchRequest: request });\n    this.getData(request, this.state.page);\n  };\n  fetchImages = () => {\n    this.setState({ page: this.state.page + 1 });\n    this.getData(this.state.searchRequest, this.state.page + 1);\n    this.setState({ loading: true });\n\n    return;\n  };\n\n  toggleModal = () => {\n    this.setState({ showModal: !this.state.showModal });\n  };\n\n  setCurrentPictureSrc = e => {\n    this.setState({ showModal: !this.state.showModal });\n    if (e !== undefined) {\n      this.setState({ largeImageSrc: e.target.dataset.largeimage });\n      this.setState({ alt: e.target.alt });\n    }\n  };\n\n  render() {\n    return (\n      <div className={s.App}>\n        <Searchbar onSubmit={this.handleSearchbarSubmit} />\n\n        {this.state.images.length !== 0 && (\n          <ImageGallery\n            toggleModal={this.setCurrentPictureSrc}\n            images={this.state.images}\n          />\n        )}\n        {this.state.showModal && (\n          <Modal onClose={this.toggleModal}>\n            <div>\n              <img src={this.state.largeImageSrc} alt={this.state.alt} />\n            </div>\n          </Modal>\n        )}\n        {this.state.loading && <Load />}\n        {this.state.images.length > 0 && (\n          <div className={'container'}>\n            <Button onClick={this.fetchImages} />\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App/App';\r\nimport 'modern-normalize/modern-normalize.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__S9upa\",\"SearchForm\":\"Searchbar_SearchForm__2sxL3\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1PjhR\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2CprE\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2TNRc\"};"],"sourceRoot":""}