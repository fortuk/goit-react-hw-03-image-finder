{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/SearchBar/Searchbar.jsx","api/imagesApi.js","components/Button/Button.jsx","components/Modal/Modal.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/App/App.jsx","index.js","components/SearchBar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","searchbar","handleNameChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","toast","error","props","onSubmit","className","s","this","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","React","Component","getImages","axios","create","baseURL","params","key","image_type","orientation","a","q","page","per_page","data","console","imagesApi","Button","onClick","modalRoot","document","querySelector","Modal","onEscClick","code","onClose","onBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","src","largeImageURL","alt","ImageGalleryItem","webformatURL","tags","onOpenModal","ImageGalleryItemImage","ImageGallery","cardImage","loading","status","loadMoreBtn","prevState","largeImageUR","onCloseModal","prevProps","searchQuery","cardAPI","then","hits","scrollTo","top","documentElement","scrollHeight","behavior","images","color","height","width","timeout","map","id","length","App","handleFormSubmit","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c6ca7e9c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3cOtY\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__NFLG8\",\"ImageGalleryItemImage\":\"ImageGallery_ImageGalleryItemImage__2mJio\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1ngiu\",\"Modal\":\"Modal_Modal__dEnCA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1Bshm\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { toast } from 'react-toastify';\nimport s from './Searchbar.module.css';\n\nclass Searchbar extends React.Component {\n  state = {\n    searchbar: '',\n  };\n\n  handleNameChange = event => {\n    this.setState({ searchbar: event.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    const { searchbar } = this.state;\n\n    if (searchbar.trim() === '') {\n      toast.error('Error! Enter something');\n      this.setState({ searchbar: '' });\n      return;\n    }\n    this.props.onSubmit(searchbar);\n    this.setState({ searchbar: '' });\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form onSubmit={this.handleSubmit} className={s.SearchForm}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.searchbar}\n            onChange={this.handleNameChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func,\n};\n\nexport { Searchbar };\n","import axios from 'axios';\nconst getImages = axios.create({\n  baseURL: 'https://pixabay.com/api/',\n  params: {\n    key: '21917533-94fc46511cdba7fd05c8e408d',\n    image_type: 'photo',\n    orientation: 'horizontal',\n  },\n});\n\nasync function imagesApi(q = '', page = 1, per_page = 12) {\n  const params = { q, page, per_page };\n  try {\n    const { data } = await getImages('', { params });\n    return data;\n  } catch (error) {\n    console.error(`No results found for ${q}'`);\n  }\n}\n\nexport default imagesApi;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nfunction Button({ onClick }) {\n  return (\n    <button type=\"button\" className={s.Button} onClick={onClick}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  loadMoreBtn: PropTypes.func,\n};\n\nexport { Button };\n","import React from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends React.Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.onEscClick);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.onEscClick);\n  }\n\n  onEscClick = event => {\n    const ESC_KEY_CODE = 'Escape';\n\n    if (event.code === ESC_KEY_CODE) {\n      this.props.onClose();\n    }\n  };\n\n  onBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.Overlay} onClick={this.onBackdropClick}>\n        <div className={s.Modal}>\n          <img src={this.props.largeImageURL} alt={this.props.alt} />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n};\n\nexport { Modal };\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport s from '../ImageGallery/ImageGallery.module.css';\n\nconst ImageGalleryItem = ({\n  webformatURL,\n  tags,\n  largeImageURL,\n  onOpenModal,\n}) => {\n  return (\n    <li\n      onClick={() => {\n        onOpenModal(largeImageURL, tags);\n      }}\n    >\n      <img src={webformatURL} alt={tags} className={s.ImageGalleryItemImage} />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  tags: PropTypes.string,\n  largeImageURL: PropTypes.string.isRequired,\n  onOpenModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport Loader from 'react-loader-spinner';\nimport cardAPI from '../../api/imagesApi';\nimport { Button } from '../Button/Button';\nimport { Modal } from '../Modal/Modal';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport s from './ImageGallery.module.css';\n\nclass ImageGallery extends React.Component {\n  state = {\n    cardImage: [],\n    error: null,\n    loading: false,\n    status: 'idle',\n    page: 1,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.searchQuery !== this.props.searchQuery) {\n      this.setState({ status: 'pending' });\n\n      cardAPI(this.props.searchQuery, this.state.page)\n        .then(cardImage => cardImage.hits)\n        .then(cardImage =>\n          this.setState({ cardImage: cardImage, status: 'resolved' }),\n        );\n    }\n\n    if (prevState.page !== this.state.page && this.state.page !== 1) {\n      this.setState({ status: 'pending' });\n\n      cardAPI(this.props.searchQuery, this.state.page)\n        .then(cardImage => cardImage.hits)\n        .then(cardImage =>\n          this.setState(prevState => ({\n            cardImage: [...prevState.cardImage, ...cardImage],\n            status: 'resolved',\n          })),\n        );\n    }\n    if (prevState.cardImage !== this.state.cardImage) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  loadMoreBtn = () => {\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n    }));\n  };\n\n  scrollDown() {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  onOpenModal = (largeImageUR, alt) => {\n    this.setState({\n      largeImageURL: largeImageUR,\n      alt: alt,\n    });\n  };\n\n  onCloseModal = () => {\n    this.setState({\n      largeImageURL: '',\n      alt: '',\n    });\n  };\n\n  render() {\n    const { status, largeImageURL } = this.state;\n    const images = this.state.cardImage;\n\n    return (\n      <>\n        {status === 'pending' && (\n          <div>\n            <Loader\n              type=\"MutatingDots\"\n              color=\"#00BFFF\"\n              height={80}\n              width={80}\n              timeout={3000}\n            />\n          </div>\n        )}\n\n        {status === 'rejected' && <h1>Oops! Try again.</h1>}\n\n        {status === 'resolved' && (\n          <ul className={s.ImageGallery}>\n            {images.map(({ id, tags, webformatURL, largeImageURL }) => {\n              return (\n                <ImageGalleryItem\n                  key={id}\n                  alt={tags}\n                  webformatURL={webformatURL}\n                  largeImageURL={largeImageURL}\n                  onOpenModal={this.onOpenModal}\n                />\n              );\n            })}\n            {this.state.cardImage.length > 0 && (\n              <Button onClick={this.loadMoreBtn} />\n            )}\n\n            {largeImageURL && (\n              <Modal\n                largeImageURL={largeImageURL}\n                alt={this.state.alt}\n                onClose={this.onCloseModal}\n              />\n            )}\n          </ul>\n        )}\n      </>\n    );\n  }\n}\n\nexport { ImageGallery };\n","import React from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { Searchbar } from '../SearchBar/Searchbar';\nimport { ImageGallery } from '../ImageGallery/ImageGallery';\n\nclass App extends React.Component {\n  state = {\n    searchQuery: '',\n    searchbar: '',\n  };\n\n  handleFormSubmit = searchQuery => {\n    this.setState({ searchQuery });\n  };\n\n  render() {\n    return (\n      <div>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n\n        <ImageGallery searchQuery={this.state.searchQuery} />\n\n        <ToastContainer autoClose={3000} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\nimport 'modern-normalize/modern-normalize.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__S9upa\",\"SearchForm\":\"Searchbar_SearchForm__2sxL3\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1PjhR\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2CprE\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2TNRc\"};"],"sourceRoot":""}